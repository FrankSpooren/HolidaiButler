/**
 * FAB (Floating Action Button) Styles
 *
 * Design System:
 * - Uses CSS variables from DestinationContext for multi-destination branding
 * - Fixed bottom-right positioning
 * - GPU-accelerated animations
 * - Mobile-responsive
 * - Enterprise-level accessibility
 */

.holibot-fab {
  /* Positioning - CRITICAL: Fixed, not static! */
  position: fixed;
  bottom: 24px;
  right: 24px;
  z-index: 999999;

  /* Size */
  width: 60px;
  height: 60px;
  padding: 0;

  /* Appearance - Uses destination accent color */
  border: none;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--color-accent) 0%, color-mix(in srgb, var(--color-accent) 85%, black) 100%);
  box-shadow: 0 10px 25px color-mix(in srgb, var(--color-accent) 30%, transparent);
  cursor: pointer;

  /* Performance optimization (Enterprise doc pattern) */
  will-change: transform;
  transition: transform 200ms cubic-bezier(0.4, 0, 0.2, 1);

  /* Floating animation (old widget pattern) */
  animation: fab-float 3s ease-in-out infinite;

  /* Flexbox for icon centering */
  display: flex;
  align-items: center;
  justify-content: center;

  /* Accessibility */
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

/* Hover state - pause float animation */
.holibot-fab:hover {
  animation-play-state: paused;
  transform: scale(1.1);
  box-shadow: 0 15px 30px color-mix(in srgb, var(--color-accent) 40%, transparent);
}

/* Active state (click) */
.holibot-fab:active {
  animation-play-state: paused;
  transform: scale(0.95);
}

/* Focus state (keyboard navigation - WCAG 2.1 AA) */
.holibot-fab:focus-visible {
  outline: 3px solid var(--color-accent);
  outline-offset: 4px;
}

/* Hide FAB on mobile when widget is open */
@media (max-width: 480px) {
  .holibot-fab {
    bottom: max(16px, env(safe-area-inset-bottom, 16px));
    right: max(16px, env(safe-area-inset-right, 16px));
    width: 56px;
    height: 56px;
  }

  .holibot-fab-hidden {
    display: none;
  }
}

/* Reduced motion accessibility */
@media (prefers-reduced-motion: reduce) {
  .holibot-fab {
    transition: none;
    will-change: auto;
    animation: none; /* Disable floating animation */
  }
}

/* Floating animation - draws attention subtly */
@keyframes fab-float {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-8px);
  }
}
