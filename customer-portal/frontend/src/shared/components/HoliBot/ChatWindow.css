/**
 * ChatWindow Styles
 *
 * Design System: Enterprise-level (MindTrip + Zendesk patterns)
 * - Fixed bottom-right positioning
 * - Slide-up animation with fade
 * - Mobile-first responsive (full-screen on mobile)
 * - GPU-accelerated performance
 */

/* Overlay backdrop */
.holibot-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(44, 62, 80, 0.4); /* Deep Sea Navy with opacity */
  z-index: 999997;

  /* Performance: NO backdrop-filter (heavy rendering cost) */
  /* backdrop-filter: blur(4px); - REMOVED per Enterprise doc */

  /* Smooth fade-in */
  animation: fadeIn 300ms cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* Chat window modal */
.holibot-window {
  position: fixed;
  bottom: 100px;
  right: 16px;
  width: min(420px, calc(100vw - 48px)); /* Increased from 360px to 420px for Question Bar */
  max-width: 420px; /* Increased from 360px to 420px */
  max-height: min(600px, calc(100vh - 180px));
  background: white;
  border-radius: 16px;
  box-shadow: 0 10px 25px rgba(44, 62, 80, 0.2);
  display: flex;
  flex-direction: column;
  z-index: 999998;

  /* Performance optimization (Enterprise doc) */
  will-change: transform, opacity;
  transition:
    opacity 300ms cubic-bezier(0.4, 0, 0.2, 1),
    transform 300ms cubic-bezier(0.4, 0, 0.2, 1);

  /* Slide-up animation */
  animation: slideUp 300ms cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Mobile responsive - Full screen on small devices */
@media (max-width: 480px) {
  .holibot-window {
    /* Use inset for reliable full-screen positioning */
    position: fixed;
    inset: 0; /* top:0, right:0, bottom:0, left:0 */
    width: auto; /* Let inset define width - avoids 100vw iOS issues */
    max-width: none;
    max-height: none;
    border-radius: 0;
    /* Prevent content from overflowing horizontally */
    overflow-x: hidden;
    /* iOS safe area support - all sides */
    padding-top: env(safe-area-inset-top, 0);
    padding-bottom: env(safe-area-inset-bottom, 0);
    padding-right: env(safe-area-inset-right, 0);
    padding-left: env(safe-area-inset-left, 0);
  }

  .holibot-overlay {
    display: none; /* No overlay on mobile (full screen) */
  }
}

/* Tablet responsive */
@media (min-width: 481px) and (max-width: 768px) {
  .holibot-window {
    width: 400px; /* Increased from 340px */
    max-height: 520px;
  }
}

/* Reduced motion accessibility */
@media (prefers-reduced-motion: reduce) {
  .holibot-window,
  .holibot-overlay {
    animation: none;
    transition: none;
    will-change: auto;
  }
}
