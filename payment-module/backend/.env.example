# ============================================================
# HolidaiButler Payment Engine - Environment Configuration
# ============================================================

# Server Configuration
NODE_ENV=development
PORT=3005

# ============================================================
# DATABASE (MySQL - Hetzner)
# ============================================================
DATABASE_HOST=your-hetzner-mysql-host
DATABASE_PORT=3306
DATABASE_NAME=pxoziy_db1
DATABASE_USER=your-mysql-username
DATABASE_PASSWORD=your-mysql-password
DATABASE_POOL_MAX=20
DATABASE_POOL_MIN=5

# ============================================================
# REDIS (Caching & Queue)
# ============================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=2
REDIS_TLS=false

# ============================================================
# AUTHENTICATION
# ============================================================
# IMPORTANT: Change this to a secure 32+ character secret in production!
JWT_SECRET=your-jwt-secret-key-minimum-32-characters-long
JWT_EXPIRY=24h

# ============================================================
# ADYEN CONFIGURATION
# ============================================================
# Get these values from your Adyen Customer Area
ADYEN_API_KEY=your-adyen-api-key
ADYEN_ENVIRONMENT=test
ADYEN_MERCHANT_ACCOUNT=your-merchant-account
ADYEN_HMAC_KEY=your-hmac-key-for-webhook-verification
ADYEN_CLIENT_KEY=pub_test_your-client-key

# For live environment only:
# ADYEN_LIVE_ENDPOINT_PREFIX=your-live-prefix

# ============================================================
# PAYMENT SETTINGS
# ============================================================
AUTO_CAPTURE=true
CAPTURE_DELAY_HOURS=0
DEFAULT_CURRENCY=EUR
DEFAULT_COUNTRY=NL
DEFAULT_LOCALE=nl-NL

# ============================================================
# RATE LIMITING
# ============================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WEBHOOK_MAX=1000

# ============================================================
# INTEGRATION URLs
# ============================================================
TICKETING_MODULE_URL=http://localhost:3004
MAIN_API_URL=http://localhost:3000

# ============================================================
# CORS
# ============================================================
# Use comma-separated origins for multiple: https://app.holidaibutler.com,https://admin.holidaibutler.com
CORS_ORIGIN=*

# ============================================================
# LOGGING
# ============================================================
LOG_LEVEL=info
LOG_FORMAT=json

# ============================================================
# SECURITY (Production Required)
# ============================================================
# 64-character hex string for data encryption (required in production)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# ENCRYPTION_KEY=0000000000000000000000000000000000000000000000000000000000000000

# ============================================================
# QUEUE PROCESSING (Bull)
# ============================================================
QUEUE_ENABLED=true
QUEUE_CONCURRENCY=5

# ============================================================
# RETRY & CIRCUIT BREAKER
# ============================================================
ADYEN_RETRY_ATTEMPTS=3
ADYEN_RETRY_DELAY_MS=1000
CIRCUIT_BREAKER_THRESHOLD=5
CIRCUIT_BREAKER_TIMEOUT_MS=30000

# ============================================================
# IDEMPOTENCY
# ============================================================
IDEMPOTENCY_TTL_SECONDS=86400

# ============================================================
# AUDIT LOGGING (PCI-DSS)
# ============================================================
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=365
