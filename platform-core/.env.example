# ============================================================================
# HolidaiButler Platform Core - Environment Configuration
# ============================================================================
# PRODUCTION DEPLOYMENT: Copy this file to .env and fill in actual values
# SECURITY: Never commit .env file to version control!
#
# Generate secure secrets:
#   JWT_SECRET: openssl rand -hex 32
#   API_KEY: openssl rand -base64 32
#   Passwords: openssl rand -base64 24
# ============================================================================

# === ENVIRONMENT ===
NODE_ENV=production
PORT=3001
API_BASE_URL=https://api.yourdomain.com

# === SECURITY (CRITICAL - MUST CHANGE IN PRODUCTION) ===
JWT_SECRET=CHANGE_ME_openssl_rand_hex_32
API_KEY=CHANGE_ME_openssl_rand_base64_32

# === DATABASE - MySQL ===
# For local development with docker-compose use: localhost
# Docker compose creates: root/holidai2024 and holidaibutler_user/holidai2024
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=CHANGE_ME_strong_password
DB_NAME=holidaibutler

# === DATABASE - MongoDB (Audit Trail & Cost Tracking) ===
# MongoDB Atlas connection string for orchestrator data
# Format: mongodb+srv://user:password@cluster.mongodb.net/database
MONGODB_URI=mongodb+srv://user:password@cluster.mongodb.net/orchestrator

# === REDIS ===
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_strong_password

# === EXTERNAL APIs ===
APIFY_API_TOKEN=CHANGE_ME_apify_token
APIFY_MONTHLY_BUDGET_EUR=50

# === MISTRAL AI (HoliBot Chat) ===
MISTRAL_API_KEY=CHANGE_ME_mistral_api_key
MISTRAL_API_URL=https://api.mistral.ai/v1
MISTRAL_MODEL=mistral-small-latest

# === OPENAI TTS (Recommended - Natural Voice) ===
# Premium text-to-speech with warm, natural voices
# Get API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=CHANGE_ME_openai_api_key

# === GOOGLE CLOUD TEXT-TO-SPEECH (Legacy/Fallback) ===
# Option 1: Service account JSON file path
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json
# Option 2: Project ID (uses Application Default Credentials)
GOOGLE_CLOUD_PROJECT=your-project-id

# === CHAT SESSION ===
SESSION_EXPIRY_HOURS=24

# === CORS ===
CORS_ORIGIN=https://yourdomain.com

# === LOGGING ===
LOG_LEVEL=info
LOG_DIR=/var/log/holidaibutler

# === MONITORING ===
ENABLE_METRICS=true

# === BUGSINK ERROR MONITORING (EU-hosted, Sentry-compatible) ===
# DSN from: https://errors.holidaibutler.com â†’ Project Settings
SENTRY_DSN=https://5685ebfa-9abe-4d0d-83c4-e83297fce9a4@errors.holidaibutler.com/1

# === AUTOMATION ===
ENABLE_CRON_JOBS=true

# === MODULE URLS ===
# Microservice endpoints for API Gateway routing
ADMIN_MODULE_URL=http://localhost:3003
TICKETING_MODULE_URL=http://localhost:3004
PAYMENT_MODULE_URL=http://localhost:3005
RESERVATIONS_MODULE_URL=http://localhost:3006
AGENDA_MODULE_URL=http://localhost:5003

# === OWNER INTERFACE (Orchestrator Alerts) ===
# Email address for system alerts and daily briefings
OWNER_EMAIL=owner@yourdomain.com

# === MAILERLITE (Email Campaigns & Alerts) ===
# API key from: https://dashboard.mailerlite.com/integrations/api
MAILERLITE_API_KEY=CHANGE_ME_mailerlite_api_key
MAILERLITE_FROM_EMAIL=tickets@holidaibutler.com
MAILERLITE_FROM_NAME=HolidaiButler

# === THREEMA GATEWAY (Critical Alerts - Urgency 5) ===
# Secure messaging for critical system alerts
# Get credentials from: https://gateway.threema.ch
THREEMA_GATEWAY_ID=*YOUR_ID
THREEMA_SECRET=CHANGE_ME_threema_secret
OWNER_THREEMA_ID=YOUR_THREEMA_ID

# Apple Wallet (Optional - requires Apple Developer Account)
APPLE_PASS_TYPE_ID=pass.com.holidaibutler.ticket
APPLE_TEAM_ID=CHANGE_ME_apple_team_id

# Google Pay (Optional - requires Google Cloud Account)
GOOGLE_ISSUER_ID=CHANGE_ME_google_issuer_id

# Firebase Push Notifications (Optional)
FIREBASE_PROJECT_ID=CHANGE_ME_firebase_project
